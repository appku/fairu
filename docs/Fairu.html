<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>AppKu: Fairu: Fairu</title>
    
      <link type="text/css" rel="stylesheet" href="styles/vendor/prism-tomorrow-night.css">
    
    <link type="image/x-icon" rel="icon" href="favicon.ico">
    <link type="image/x-icon" rel="shortcut icon" href="favicon.ico">
    <link type="text/css" rel="stylesheet" href="styles/styles.css">
    
</head>
<body>

<header class="layout-header">
  
    <a href="./">
      <img
        src="https://avatars.githubusercontent.com/u/76977527?s=400"
        alt="AppKu: Fairu"
      >
    </a>
  
  <h1><a href="./index.html">AppKu: Fairu</a></h1>
  
  <ul class="meta-links">
    
    <li><a href="https://appku.com"><i class="bi bi-globe"></i></a></li>
    
    <li><a href="https://github.com/appku/fairu"><i class="bi bi-github"></i></a></li>
    
  </ul>
  
  <nav class="layout-nav">
    <ul class="nav-introduction">
      <li class="nav-item"><a href="./index.html">Introduction</a></li>
    </ul>
    <ul><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-Discovering Files.html">Discovering Files</a></li></ul><ul><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Fairu.html">Fairu</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Fairu.html#.Format">Format</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Fairu.html#options">options</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#.cp">cp</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#.mv">mv</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#.parse">parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#.stringify">stringify</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#.with">with</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#discover">discover</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#encoding">encoding</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#ensure">ensure</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#format">format</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#read">read</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#throw">throw</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#touch">touch</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#unlink">unlink</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#when">when</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#with">with</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#without">without</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Fairu.html#write">write</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="PathState.html">PathState</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#error">error</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#exists">exists</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#operation">operation</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#path">path</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#readable">readable</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#stats">stats</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="PathState.html#writable">writable</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="ReadPathState.html">ReadPathState</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="ReadPathState.html#data">data</a></span></li></ul><ul><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="FairuCallback.html">FairuCallback</a></span></li></ul>
  </nav>
</header>


<main class="layout-main ">
  <div class="container">
    <p class="page-kind">Class</p>
    <h1 class="page-title">Fairu</h1>
    




<section>


<header class="class">


    
        
        <!-- <h2>Fairu</h2> -->

        

        

        
            
            <div class="class-description"><p>Fairu is a file-system reading &amp; writing helper designed to simplify operations. It provides an asynchronous and
chained method interface to working with files that helps you focus less on file system operations, and more on
just getting things written and read reliably.</p></div>
        
    
</header>

<article>
    <div class="container-overview">



    
        





    


    
    <h3 class="subtitle">Constructor</h3>
    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="Fairu">new Fairu<span class="signature">()</span><span class="return-type-signature"></span>
    </h4>

















<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>


















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.23">, line 23</a>
        </li>
    </ul>



    
    </div>

    

    

     

    

    


    
        <h3 class="subtitle">Members</h3>

        
            

<article class="member">
    <div class="method-type">
        <span class="method-type-signature is-static">static</span>
    </div>
<h4 class="member-name" id=".Format">Format<span class="type-signature">String</span></h4>






    <h4>Type</h4>
    <ul>
        <li>
            


    <span class="param-type">
        <code>String</code>
    </span>
    

        </li>
    </ul>





    <h4 class="method-heading">Properties</h4>
    

<ul class="method-params">


    <li>
        
            <span class="param-name">yaml</span>
        

        
            


    <span class="param-type">
        <code>String</code>
    </span>
    

        

        

        

        <div class="param-description">
            
        </div>

    </li>
    

    <li>
        
            <span class="param-name">toml</span>
        

        
            


    <span class="param-type">
        <code>String</code>
    </span>
    

        

        

        

        <div class="param-description">
            
        </div>

    </li>
    

    <li>
        
            <span class="param-name">json</span>
        

        
            


    <span class="param-type">
        <code>String</code>
    </span>
    

        

        

        

        <div class="param-description">
            
        </div>

    </li>
    
</ul>




<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>







    <h4>Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.692">, line 692</a>
        </li>
    </ul>


</article>
        
            

<article class="member">
    <div class="method-type">
        
    </div>
<h4 class="member-name" id="options">options<span class="type-signature">glob.IOptions</span></h4>




<div class="description">
    <p>The globbing options to apply to path discovery.</p>
</div>



    <h4>Type</h4>
    <ul>
        <li>
            


    <span class="param-type">
        <code>glob.IOptions</code>
    </span>
    

        </li>
    </ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <h4 class="method-heading">See</h4>
        <ul>
            
                <li><a href="https://www.npmjs.com/package/glob#options">https://www.npmjs.com/package/glob#options</a></li>
            
        </ul>
    

    
</div>







    <h4>Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.31">, line 31</a>
        </li>
    </ul>


</article>
        
    

    
        <h3 class="subtitle">Methods</h3>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span><span class="method-type-signature is-static">static</span>
    </div>

    <h4 class="method-name" id=".cp">cp<span class="signature">(source, destination)</span><span class="return-type-signature"></span>
    </h4>





<div class="method-description">
    
    <p>Copies a file or directory (recursively) to another.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">source</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The file or directory path to use as the source.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">destination</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The file or directory to use as the destination.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>


















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.125">, line 125</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span><span class="method-type-signature is-static">static</span>
    </div>

    <h4 class="method-name" id=".mv">mv<span class="signature">(source, destination)</span><span class="return-type-signature"></span>
    </h4>





<div class="method-description">
    
    <p>Moves a file or directory (recursively) to another.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">source</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The file or directory path to use as the source.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">destination</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The file or directory to use as the destination.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>


















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.140">, line 140</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-static">static</span>
    </div>

    <h4 class="method-name" id=".parse">parse<span class="signature">(format, inputString, filePath<span class="signature-attributes">opt</span>)</span><span class="return-type-signature"> &rarr; {*}</span>
    </h4>





<div class="method-description">
    
    <p>Attempts to parse the given input string using the specified format parser into an object.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">format</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                </span>
            

            

            <div class="param-description"><p>Can be either 'json', 'yaml', or 'json'.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">inputString</span>
            

            
                


    <span class="param-type">
        <code>*</code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                </span>
            

            

            <div class="param-description"><p>The string to be parsed.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">filePath</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            

            <div class="param-description"><p>The file path used in error/warning messages.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>*</code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>
<ol>
        <li>

    <div class="param-desc">
    
        <p>Error when the format is unknown.</p>
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        <p>Error when parsing fails.</p>
    
    </div>

</li>
    </ol>


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.105">, line 105</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-static">static</span>
    </div>

    <h4 class="method-name" id=".stringify">stringify<span class="signature">(format, object, space<span class="signature-attributes">opt</span>)</span><span class="return-type-signature"> &rarr; {String}</span>
    </h4>





<div class="method-description">
    
    <p>Stringifies an object into the specified format (yaml, toml, or json).</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">format</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                </span>
            

            
                
            

            <div class="param-description"><p>Can be either 'json', 'yaml', or 'json'.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">object</span>
            

            
                


    <span class="param-type">
        <code>*</code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                </span>
            

            
                
            

            <div class="param-description"><p>The object to stringify.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">space</span>
            

            
                


    <span class="param-type">
        <code>Number</code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            
                
                    <span class="param-default">
                        4
                    </span>
                
            

            <div class="param-description"><p>The number of spaces to use for indentations.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>String</code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>
<ol>
        <li>

    <div class="param-desc">
    
        <p>Error when the format is unknown.</p>
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        <p>Error when stringification fails.</p>
    
    </div>

</li>
    </ol>


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.80">, line 80</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-static">static</span>
    </div>

    <h4 class="method-name" id=".with">with<span class="signature">(&hellip;paths)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Specify the file-system paths (including glob patterns) you will be performing an operation on. You may
optionally provide a callback that returns a path to use- the callback will be passed the <code>path</code> module as an
argument.</p>
<p>Calling this resets the paths used in this Fairu operation, letting you daisy-chain multiple operations
together, each starting with the <code>with</code> specification.</p>
<p>This function is not cummulative, specified paths will overwrite those set by a previous call.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">paths</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    |

    <span class="param-type">
        <code><a href="FairuCallback.html#.Path">FairuCallback.Path</a></code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                    &lt;repeatable&gt;<br>
                
                </span>
            

            

            <div class="param-description"><p>The series of file-system paths or callback functions.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>




    <h4 class="method-heading">Examples</h4>
    
    <pre><code class="language-js">// Daisy chaining multiple operations:
await Fairu
  .with('./file1.txt', p => p.join('/home/', 'file2.txt'))
  .write(content)
  .with('./file3.txt')
  .write(otherContent);</code></pre>

    <pre><code class="language-js">// Using glob paths:
await Fairu
  .with('./**', './+(hello|greetings)?(world|mars|venus).txt')
  .read();</code></pre>












<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when a specified path is not a string or callback function.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.171">, line 171</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="append">append<span class="signature">(content)</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:path-state~PathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Appends the content to the paths specified. If the file does not exist, it is created.</p>
<p>If the path is a directory, it will be created.</p>
<p>If a format was specified, the written data will be stringified into that format before being written.</p>
<p>If the file is in an errored state prior to the write, it is skipped.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">content</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    |

    <span class="param-type">
        <code>Buffer</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The content to be written to path.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:path-state~PathState>></code>
            
            
        </li>
    
    </ul>
















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.572">, line 572</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="discover">discover<span class="signature">(create<span class="signature-attributes">opt</span>, handleError<span class="signature-attributes">opt</span>)</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:path-state~PathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Expands globbed paths and discovers information about them, returning a record for each path (including invalid)
ones.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">create</span>
            

            
                


    <span class="param-type">
        <code><a href="FairuCallback.html#.PathStateCreate">FairuCallback.PathStateCreate</a></code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            

            <div class="param-description"><p>Optional callback that returns an initialized <code>PathState</code>.</p></div>
            
        </li>

    

        <li>
            
                <span class="param-name">handleError</span>
            

            
                


    <span class="param-type">
        <code><a href="FairuCallback.html#.DiscoverErrorHandler">FairuCallback.DiscoverErrorHandler</a></code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            

            <div class="param-description"><p>Optional callback to handle an error if it occurs.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:path-state~PathState>></code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>
<ol>
        <li>

    <div class="param-desc">
    
        <p>Error when the <code>throw</code> flag is true and an error discovering paths is encountered.</p>
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        <p>Error when the &quot;when&quot; condition for the Fairu operation fails to return a boolean result.</p>
    
    </div>

</li>
    </ol>


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.410">, line 410</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="encoding">encoding<span class="signature">(encoding)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Sets the text file encoding to the specified value.
By default the encoding is not set.</p>
<p>Calling this function without an argument or <code>null</code> will reset it to it's default (not set).</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">encoding</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The file text encoding to use when reading and writing files.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when the encoding value is specified and not a string.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.260">, line 260</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="ensure">ensure<span class="signature">(ensure<span class="signature-attributes">opt</span>)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Sets the flag to create any directories not found in the discovered <code>.with</code> paths. If this flag is
enabled (<code>true</code>) and the directory path does not exist, then the operation without failing with an error.</p>
<p>Calling this function without a <code>ensure</code> parameter argument will set the flag to <code>true</code>.</p>
<p>This only has an effect on <code>write</code>, <code>append</code>, <code>touch</code>, and 'delete' operations.
The <code>discover</code> and <code>read</code> operations <em>will not</em> attempt to ensure the path.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">ensure</span>
            

            
                


    <span class="param-type">
        <code>Boolean</code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            
                
                    <span class="param-default">
                        false
                    </span>
                
            

            <div class="param-description"><p>If true, the directory path will be created if missing.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when the <code>ensure</code> argument is not a boolean value.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.305">, line 305</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="format">format<span class="signature">(format)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Enables formatting of written or read objects or data to the specified format, either: &quot;json&quot;, &quot;toml&quot;, or
&quot;yaml&quot;. You may also ensure raw bufferred reads or writes by passing a <code>null</code> argument to clear the setting.
By default the format is not set.</p>
<p>Calling this function without an argument or <code>null</code> will reset it to it's default (not set).</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">format</span>
            

            
                


    <span class="param-type">
        <code><a href="Fairu.html">Fairu</a></code>
    </span>
    

            

            

            

            <div class="param-description"><p>The format (or <code>null</code>) to use for reading &amp; writing. Can be: &quot;json&quot;, &quot;toml&quot;, or
&quot;yaml&quot;.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when the specified <code>format</code> argument is not &quot;json&quot;, &quot;yaml&quot;, &quot;toml&quot;.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.326">, line 326</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="read">read<span class="signature">()</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:read-path-state~ReadPathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Reads from all paths discovered from the specified <code>.with</code> paths.
Directories will return data that is the top-level list of files and directories they contain.
Files and other types will return the data read in the form of a <code>Buffer</code> unless a <code>format</code> was specified.</p>
<p>If a format was specified, the read data will be (attempted) to parse from that format into an in-memory object.</p>
<p>If the file is in an errored state prior to the read, it will not be read and data will be <code>null</code>.</p>
</div>













<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:read-path-state~ReadPathState>></code>
            
            
        </li>
    
    </ul>
















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.487">, line 487</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="throw">throw<span class="signature">(throwErrors<span class="signature-attributes">opt</span>)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Sets the flag to have Fairu throw an error if one is encountered (<code>true</code>), or simply halt the operation for
that path (<code>false</code>). By default Fairu will throw an error (<code>true</code>).
When the flag is <code>false</code> and an error occurs:</p>
<ul>
<li><code>read()</code> will return <code>null</code> value for the <code>data</code> property in the result.</li>
<li><code>write()</code> may or may not occur or may only partially write.</li>
<li><code>touch()</code> may or may not occur.</li>
</ul>
<p>Calling this function without an argument will reset it to it's default (<code>true</code>).</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">throwErrors</span>
            

            
                


    <span class="param-type">
        <code>Boolean</code>
    </span>
    

            

            
                <span class="param-attributes">
                
                    &lt;optional&gt;<br>
                

                

                
                </span>
            

            
                
                    <span class="param-default">
                        true
                    </span>
                
            

            <div class="param-description"><p>If <code>true</code> an error is thrown as soon as it is encountered, when <code>false</code>
no errors are thrown and the next path operation is attempted.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>














<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when the <code>throwErrors</code> argument is not a boolean value.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.283">, line 283</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="touch">touch<span class="signature">()</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:path-state~PathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Creates a blank file write or directory if the path does not exist, and ensures the directory tree is present.</p>
<p>The file access and modified time is updated on the path.</p>
<p>This is similar to using <code>ensure(true)</code> with <code>append(null)</code>.</p>
<p>If the file is in an errored state prior to the write, it is skipped.</p>
</div>













<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:path-state~PathState>></code>
            
            
        </li>
    
    </ul>
















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.616">, line 616</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="unlink">unlink<span class="signature">()</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:path-state~PathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Deletes the files and/or directories discovered from the <code>.with</code> paths.</p>
<p>If the path is a directory, it is recursively deleted.</p>
</div>













<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:path-state~PathState>></code>
            
            
        </li>
    
    </ul>
















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.662">, line 662</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="when">when<span class="signature">(conditions)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Sets the conditional callback that determines, per discovered path, that the file-system operation being
performed can continue and be processed.</p>
<p>Calling this function without an argument or <code>null</code> will reset it to it's default (no conditional callback).</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">conditions</span>
            

            
                


    <span class="param-type">
        <code><a href="FairuCallback.html#.Condition">FairuCallback.Condition</a></code>
    </span>
    

            

            

            

            <div class="param-description"><p>Conditional flags indicating what states of the path must appear
to be true before proceeding with the operation for a path.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>




    <h4 class="method-heading">Example</h4>
    
    <pre><code class="language-js">// Discovering only paths that are writable with a minimum size of 1024 bytes.
let states = await Fairu
  .with('./*.js')
  .when(s => s.stats &amp;&amp; s.stats.size > 1024 &amp;&amp; s.writable)
  .discover();
console.log(states);</code></pre>












<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when the specified conditions are not a callback function.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.359">, line 359</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="with">with<span class="signature">(&hellip;paths)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Specify the file-system paths (including glob patterns) you will be performing an operation on. You may
optionally provide a callback that returns a path to use- the callback will be passed the <code>path</code> module as an
argument.</p>
<p>Calling this resets the paths used in this Fairu operation, letting you daisy-chain multiple operations
together, each starting with the <code>with</code> specification.</p>
<p>This function is not cummulative, specified paths will overwrite those set by a previous call.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">paths</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    |

    <span class="param-type">
        <code><a href="FairuCallback.html#.Path">FairuCallback.Path</a></code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                    &lt;repeatable&gt;<br>
                
                </span>
            

            

            <div class="param-description"><p>The series of file-system paths or callback functions.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>




    <h4 class="method-heading">Examples</h4>
    
    <pre><code class="language-js">// Daisy chaining multiple operations:
await Fairu
  .with('./file1.txt', p => p.join('/home/', 'file2.txt'))
  .write(content)
  .with('./file3.txt')
  .write(otherContent);</code></pre>

    <pre><code class="language-js">// Using glob paths:
await Fairu
  .with('./**', './+(hello|greetings)?(world|mars|venus).txt')
  .read();</code></pre>












<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when a specified path is not a string or callback function.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.201">, line 201</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    
    </div>

    <h4 class="method-name" id="without">without<span class="signature">(&hellip;paths)</span><span class="return-type-signature"> &rarr; {<a href="Fairu.html">Fairu</a>}</span>
    </h4>





<div class="method-description">
    
    <p>Specify the file-system paths (including glob patterns) you <em>do not</em> want to perform an operation on. You may
optionally provide a callback that returns a path to use- the callback will be passed the <code>path</code> module as an
argument.</p>
<p>This function is not cummulative, specified paths will overwrite those set by a previous call.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">paths</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    |

    <span class="param-type">
        <code><a href="FairuCallback.html#.Path">FairuCallback.Path</a></code>
    </span>
    

            

            
                <span class="param-attributes">
                

                

                
                    &lt;repeatable&gt;<br>
                
                </span>
            

            

            <div class="param-description"><p>The series of file-system paths or callback functions.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code><a href="Fairu.html">Fairu</a></code>
            
            
        </li>
    
    </ul>




    <h4 class="method-heading">Example</h4>
    
    <pre><code class="language-js">// Skipping over certain files, in this case finding all `.js` files without `.test.` in the file name:
Fairu.
  .with('./*.js')
  .without('./*.test.*')
  .discover();</code></pre>












<h4 class="method-heading">Throws</h4>

        

    <div class="param-desc">
    
        <p>Error when a specified path is not a string or callback function.</p>
    
    </div>


    


    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.234">, line 234</a>
        </li>
    </ul>



    </article>

        
            


    <article class="method">




    


    

    <div class="method-type">
    <span class="method-type-signature is-async">async</span>
    </div>

    <h4 class="method-name" id="write">write<span class="signature">(content)</span><span class="return-type-signature"> &rarr; {Promise.&lt;Array.&lt;module:path-state~PathState>>}</span>
    </h4>





<div class="method-description">
    
    <p>Writes the content to the paths specified. If the file is already present, the content is overwritten.
If the path is a directory, it will be created.</p>
<p>If a format was specified, the written data will be stringified into that format before being written.</p>
<p>If the file is in an errored state prior to the write, it is skipped.</p>
</div>









    <h4 class="method-heading">Parameters</h4>
    

<ul class="method-params">
    

        <li>
            
                <span class="param-name">content</span>
            

            
                


    <span class="param-type">
        <code>String</code>
    </span>
    |

    <span class="param-type">
        <code>Buffer</code>
    </span>
    

            

            

            

            <div class="param-description"><p>The content to be written to path.</p></div>
            
        </li>

    
</ul>





<div class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</div>



    <h4 class="method-heading">Returns</h4>
    <ul>
    
        <li class="method-returns">
            
                <code>Promise.&lt;Array.&lt;module:path-state~PathState>></code>
            
            
        </li>
    
    </ul>
















    <h4 class="method-heading">Source</h4>
    <ul>
        <li class="method-source">
            <a href="fairu.js.html">fairu.js</a><a href="fairu.js.html#source.528">, line 528</a>
        </li>
    </ul>



    </article>

        
    

    

    
</article>

</section>




  </div>
</main>

<footer class="layout-footer">
  <div class="container">
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Tue May 17 2022 11:50:31 GMT-0700 (Pacific Daylight Time)
  </div>
</footer>



<script src="scripts/prism.dev.js"></script>
</body>
</html>